{"version":3,"file":"static/webpack/static/development/pages/_app.js.20e25817ae61345a9608.hot-update.js","sources":["webpack:///./lib/with-redux-store.js"],"sourcesContent":["import React from 'react'\nimport { initializeStore } from '../store'\nimport axios from 'axios'\n\nconst isServer = typeof window === 'undefined'\nconst __NEXT_REDUX_STORE__ = '__NEXT_REDUX_STORE__'\n\nfunction getOrCreateStore (initialState) {\n    if (isServer) {\n        return initializeStore(initialState)\n    }\n\n    if (!window[__NEXT_REDUX_STORE__]) {\n        window[__NEXT_REDUX_STORE__] = initializeStore(initialState)\n    }\n    return window[__NEXT_REDUX_STORE__]\n}\n\nexport default App => {\n    return class AppWithRedux extends React.Component {\n        static async getInitialProps (appContext) {\n            const reduxStore = getOrCreateStore()\n            let siteData;\n\n            appContext.ctx.reduxStore = reduxStore\n\n            let appProps = {}\n            if (typeof App.getInitialProps === 'function') {\n                appProps = await App.getInitialProps(appContext)\n            }\n\n            try {\n                const response = await axios.get(`http://localhost:3000/api/v1/site`);\n                siteData = response.data[0]\n            } catch {\n                console.error('Error')\n            }\n\n            return {\n                ...appProps,\n                siteData,\n                initialReduxState: reduxStore.getState()\n            }\n        }\n\n        constructor (props) {\n            super(props)\n            this.reduxStore = getOrCreateStore(props.initialReduxState)\n        }\n \n        render() {\n            return <App {...this.props} reduxStore={this.reduxStore} />\n        }\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAEA;AACA;AARA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AASA;AACA;AAVA;AAAA;AAAA;AAAA;AACA;AADA;AAaA;AACA;AAdA;AAAA;AACA;AADA;AAAA;AAAA;AAgBA;AACA;AAjBA;AAAA;AAqBA;AACA;AAtBA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAyBA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAGA;AACA;AA9BA;AAAA;AAAA;AAgCA;AAAA;AAAA;AACA;AAjCA;AACA;AADA;AAAA;AAAA;AAmCA;;;;A","sourceRoot":""}