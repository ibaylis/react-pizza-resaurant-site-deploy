{"version":3,"file":"static/webpack/static/development/pages/_app.js.d2d198481869d011a01c.hot-update.js","sources":["webpack:///./lib/appAuth.js"],"sourcesContent":["import auth0 from 'auth0-js';\nimport Cookies from 'js-cookie';\nimport axios from 'axios';\n\nimport getConfig from 'next/config';\nconst { publicRuntimeConfig } = getConfig();\n\nclass Auth0 {\n    constructor() {\n        this.auth0= new auth0.WebAuth({\n            domain: nextpizzeria.auth0.com,\n            clientID: `${publicRuntimeConfig.client_id}`,\n            redirectUri: `${publicRuntimeConfig.base_url}/login-success`,\n            responseType: 'token id_token',\n            scope: 'openid'\n        });\n        this.handleAuthentication = this.handleAuthentication.bind(this);\n    }\n\n    handleAuthentication() { \n        return new Promise((resolve, reject)=>{\n            this.auth0.parseHash((err, authResult) => {\n                if (authResult && authResult.accessToken && authResult.idToken) {\n                    this.setSession(authResult);\n                } else if (err) {\n                    history.replace('/home');\n                    console.log(err);\n                    alert(`Error: ${err.error}. Check the console for further details.`);\n                }\n            });\n        })\n      }\n\n    login(){\n        this.auth0.authorize();\n    }\n}\n\nconst auth0Serv = new Auth0();\nexport default auth0Serv;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;;;;AAGA;AACA;;;;A","sourceRoot":""}